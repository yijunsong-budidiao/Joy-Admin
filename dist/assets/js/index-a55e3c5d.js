import{V as e,X as a,d as t,o as l,e as n,T as s,a4 as o,g as d,m as u,n as r,b as i,D as c,F as p,t as m,w as f,f as _,H as h,J as v,ae as b,Z as g,_ as k,N as y,q as w,r as x,h as C,ab as I,Q as V,l as L,af as T,ag as $,ah as M,ai as z,aj as S,G as A,a as D,u as j,a9 as B,E as R,ak as J,a2 as F,C as P,al as U,am as E,an as H}from"./index-d08d72be.js";import{_ as q,g as G,u as N,a as O,b as Q}from"./index-9e9a9dd5.js";import{h as W,g as X}from"./util-36d09c4e.js";import{_ as Z}from"./plugin-vue_export-helper-b2bddca3.js";import{T as K}from"./tabs-e5405a5b.js";import"./index-71f29062.js";const Y=e({id:"MenuState",state:()=>({isCollapse:!1,menuList:[]}),getters:{},actions:{async setCollapse(){this.isCollapse=!this.isCollapse},async setMenuList(e){this.menuList=e}},persist:a("MenuState")});const ee={class:"logo flx-center"},ae=(e=>(u("data-v-e343bcc2"),e=e(),r(),e))((()=>d("img",{src:q,alt:"logo"},null,-1)));var te=Z(t({__name:"Logo",props:{isCollapse:{type:Boolean}},setup:e=>(a,t)=>(l(),n("div",ee,[ae,s(d("span",null,"Joy Admin",512),[[o,!e.isCollapse]])]))}),[["__scopeId","data-v-e343bcc2"]]);var le=Z(t({__name:"SubItem",props:{menuList:null},setup:e=>(a,t)=>{const s=i("el-icon"),o=i("SubItem",!0),u=i("el-sub-menu"),r=i("el-menu-item");return l(!0),n(p,null,c(e.menuList,(e=>(l(),n(p,{key:e.path},[e.children&&e.children.length>0?(l(),m(u,{key:0,index:e.path},{title:f((()=>[_(s,null,{default:f((()=>[(l(),m(h(e.icon)))])),_:2},1024),d("span",null,v(e.title),1)])),default:f((()=>[_(o,{menuList:e.children},null,8,["menuList"])])),_:2},1032,["index"])):(l(),m(r,{key:1,index:e.path},b({default:f((()=>[_(s,null,{default:f((()=>[(l(),m(h(e.icon)))])),_:2},1024)])),_:2},[e.isLink?{name:"title",fn:f((()=>[d("a",{class:"href",href:e.isLink,target:"_blank"},v(e.title),9,["href"])]))}:{name:"title",fn:f((()=>[d("span",null,v(e.title),1)]))}]),1032,["index"]))],64)))),128)}}),[["__scopeId","data-v-fa10cf82"]]);var ne=Z(t({__name:"index",setup(e){const a=g(),t=Y(),s=k();y((async()=>{const e=await G();if(!e.data)return;const a=W(e.data);s.setAuthRouter(a),t.setMenuList(e.data)}));const o=w((()=>a.path)),d=w((()=>t.isCollapse)),u=w((()=>t.menuList)),r=x(0),c=x(0);return window.onresize=()=>(r.value=document.body.clientWidth,c.value=document.body.clientHeight,!1===d.value&&r.value<1200&&t.setCollapse(),void(!0===d.value&&r.value>1200&&t.setCollapse())),(e,a)=>{const t=i("el-menu"),s=i("el-scrollbar");return l(),n("div",{class:"menu",style:I({width:C(d)?"65px":"220px"})},[_(te,{isCollapse:C(d)},null,8,["isCollapse"]),_(s,null,{default:f((()=>[_(t,{"default-active":C(o),router:!0,collapse:C(d),"collapse-transition":!1,"unique-opened":!0,"background-color":"#191a20","text-color":"#bdbdc0","active-text-color":"#fff"},{default:f((()=>[_(le,{menuList:C(u)},null,8,["menuList"])])),_:1},8,["default-active","collapse"])])),_:1})],4)}}}),[["__scopeId","data-v-01393ef4"]]);var se=Z(t({__name:"CollapseIcon",setup(e){const a=Y(),t=w((()=>a.isCollapse));return(e,n)=>{const s=i("el-icon");return l(),m(s,{class:"collapse-icon",onClick:n[0]||(n[0]=e=>C(a).setCollapse())},{default:f((()=>[(l(),m(h(C(t)?"expand":"fold")))])),_:1})}}}),[["__scopeId","data-v-1b5f87f0"]]);const oe=L("首页"),de=t({__name:"Breadcrumb",setup(e){const a=g(),t=w((()=>a.matched.filter((e=>e.meta&&e.meta.title&&"首页"!==e.meta.title))));return(e,a)=>{const s=i("el-breadcrumb-item"),o=i("el-breadcrumb");return l(),m(o,{"separator-icon":C($)},{default:f((()=>[_(T,{name:"breadcrumb",mode:"out-in"},{default:f((()=>[_(s,{to:{path:C(V)},key:"/home"},{default:f((()=>[oe])),_:1},8,["to"]),(l(!0),n(p,null,c(C(t),(e=>(l(),m(s,{key:e.path,to:{path:e.path}},{default:f((()=>[L(v(e.meta.title),1)])),_:2},1032,["to"])))),128))])),_:1})])),_:1},8,["separator-icon"])}}});var ue=Z(t({__name:"Fullscreen",setup(e){const{toggle:a,isFullscreen:t}=M();return(e,n)=>{const s=i("el-tooltip");return l(),m(s,{effect:"dark",content:C(t)?e.$t("header.exitFullScreen"):e.$t("header.fullScreen"),placement:"bottom"},{default:f((()=>[d("i",{class:z([["iconfont",C(t)?"icon-suoxiao":"icon-fangda"],"icon-style"]),onClick:n[0]||(n[0]=(...e)=>C(a)&&C(a)(...e))},null,2)])),_:1},8,["content"])}}}),[["__scopeId","data-v-62170f6c"]]);const re={class:"el-dropdown-link"},ie=L("简体中文"),ce=L("English");var pe=Z(t({__name:"Language",setup(e){const a=S(),t=A(),n=w((()=>t.language)),s=e=>{a.locale.value=e,t.updateLanguage(e)};return y((()=>{s(n.value||X())})),(e,a)=>{const t=i("el-tooltip"),o=i("el-dropdown-item"),u=i("el-dropdown-menu"),r=i("el-dropdown");return l(),m(r,{trigger:"click",onCommand:s},{dropdown:f((()=>[_(u,null,{default:f((()=>[_(o,{disabled:C(n)&&"zh"===C(n),command:"zh"},{default:f((()=>[ie])),_:1},8,["disabled"]),_(o,{disabled:"en"===C(n),command:"en"},{default:f((()=>[ce])),_:1},8,["disabled"])])),_:1})])),default:f((()=>[d("span",re,[_(t,{effect:"dark",content:e.$t("header.language"),placement:"bottom"},{default:f((()=>[d("i",{class:z(["iconfont icon-zhongyingwen","icon-style"])})])),_:1},8,["content"])])])),_:1})}}}),[["__scopeId","data-v-5ecf2d92"]]);const me={class:"el-dropdown-link"};var fe=Z(t({__name:"AssemblySize",setup(e){const a=A(),t=w((()=>a.assemblySize)),s=D({default:"默认",large:"大型",small:"小型"}),o=D(["default","large","small"]),u=e=>{t.value!==e&&a.setAssemblySizeSize(e)};return(e,a)=>{const r=i("el-tooltip"),h=i("el-dropdown-item"),b=i("el-dropdown-menu"),g=i("el-dropdown");return l(),m(g,{trigger:"click",onCommand:u},{dropdown:f((()=>[_(b,null,{default:f((()=>[(l(!0),n(p,null,c(o,(e=>(l(),m(h,{key:e,disabled:C(t)===e,command:e},{default:f((()=>[L(v(s[e]),1)])),_:2},1032,["disabled","command"])))),128))])),_:1})])),default:f((()=>[d("span",me,[_(r,{effect:"dark",content:e.$t("header.componentSize"),placement:"bottom"},{default:f((()=>[d("i",{class:z(["iconfont icon-contentright","icon-style"])})])),_:1},8,["content"])])])),_:1})}}}),[["__scopeId","data-v-4021ea09"]]);const _e={class:"theme-item"};var he=Z(t({__name:"Theme",setup(e){N();const a=x(!1),t=()=>{a.value=!0};return(e,s)=>{const o=i("el-tooltip"),u=i("el-divider"),r=i("el-drawer");return l(),n("div",null,[_(o,{effect:"dark",content:e.$t("header.theme"),placement:"bottom"},{default:f((()=>[d("i",{class:z(["iconfont icon-zhuti","icon-style"]),onClick:t})])),_:1},8,["content"]),_(r,{modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=e=>a.value=e),title:e.$t("header.themeSetting"),size:"300px"},{default:f((()=>[_(u,{"content-position":"center"},{default:f((()=>[L(v(e.$t("header.theme")),1)])),_:1}),d("div",_e,[d("span",null,v(e.$t("header.darkMode")),1),_(O)])])),_:1},8,["modelValue","title"])])}}}),[["__scopeId","data-v-f42c2984"]]);const ve=d("span",null,"This is userInfo",-1),be=t({__name:"InfoDialog",setup(e,{expose:a}){const t=x(!1);return a({openDialog:()=>{t.value=!0}}),(e,a)=>{const n=i("el-dialog");return l(),m(n,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),title:e.$t("header.personalData"),width:"500px",draggable:""},{default:f((()=>[ve])),_:1},8,["modelValue","title"])}}}),ge=d("span",null,"This is Password",-1),ke={class:"dialog-footer"},ye=L("取消"),we=L("确认"),xe=t({__name:"PasswordDialog",setup(e,{expose:a}){const t=x(!1);return a({openDialog:()=>{t.value=!0}}),(e,a)=>{const n=i("el-button"),s=i("el-dialog");return l(),m(s,{modelValue:t.value,"onUpdate:modelValue":a[2]||(a[2]=e=>t.value=e),title:e.$t("header.changePassword"),width:"500px",draggable:""},{footer:f((()=>[d("span",ke,[_(n,{onClick:a[0]||(a[0]=e=>t.value=!1)},{default:f((()=>[ye])),_:1}),_(n,{type:"primary",onClick:a[1]||(a[1]=e=>t.value=!1)},{default:f((()=>[we])),_:1})])])),default:f((()=>[ge])),_:1},8,["modelValue","title"])}}});const Ce=(e=>(u("data-v-25d737ea"),e=e(),r(),e))((()=>d("div",{class:"avatar"},[d("img",{src:"./assets/gif/avatar-ea67286d.gif",alt:"avatar"})],-1)));var Ie=Z(t({__name:"Avatar",setup(e){const a=j(),t=A(),s=()=>{B.confirm("您是否确认退出登录?","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{a.push({name:"login"}),t.setToken(""),R({type:"success",message:"退出登录成功！"})}))},o=x(null),d=x(null),u=e=>{var a,t;if("infoRef"==e)return null==(a=o.value)?void 0:a.openDialog();null==(t=d.value)||t.openDialog()};return(e,a)=>{const t=i("el-dropdown-item"),r=i("el-dropdown-menu"),c=i("el-dropdown");return l(),n(p,null,[_(c,{trigger:"click"},{dropdown:f((()=>[_(r,null,{default:f((()=>[_(t,{onClick:a[0]||(a[0]=e=>u("infoRef"))},{default:f((()=>[L(v(e.$t("header.personalData")),1)])),_:1}),_(t,{onClick:a[1]||(a[1]=e=>u("passwordRef"))},{default:f((()=>[L(v(e.$t("header.changePassword")),1)])),_:1}),_(t,{onClick:s,divided:""},{default:f((()=>[L(v(e.$t("header.logout")),1)])),_:1})])),_:1})])),default:f((()=>[Ce])),_:1}),_(be,{ref_key:"infoRef",ref:o},null,512),_(xe,{ref_key:"passwordRef",ref:d},null,512)],64)}}}),[["__scopeId","data-v-25d737ea"]]);const Ve={class:"header"},Le={class:"header-lf flx-center"},Te={class:"header-ri flx-center"},$e=(e=>(u("data-v-091a93c8"),e=e(),r(),e))((()=>d("span",{class:"username"},"Joy",-1)));var Me=Z(t({__name:"index",setup:e=>(e,a)=>(l(),n("div",Ve,[d("div",Le,[_(se),_(de)]),d("div",Te,[_(fe),_(pe),_(he),_(ue),$e,_(Ie)])]))}),[["__scopeId","data-v-091a93c8"]]);var ze=Z(t({__name:"MoreButton",setup(e){const a=K(),t=()=>{a.tabsMenuValue!==V&&a.removeTabs(a.tabsMenuValue)},n=()=>{a.closeMultipleTab(a.tabsMenuValue)},s=()=>{a.closeMultipleTab(),a.goHome()};return(e,a)=>{const o=i("arrow-down"),u=i("el-icon"),r=i("el-button"),c=i("el-dropdown-item"),p=i("el-dropdown-menu"),h=i("el-dropdown");return l(),m(h,{trigger:"click"},{dropdown:f((()=>[_(p,null,{default:f((()=>[_(c,{onClick:t},{default:f((()=>[L(v(e.$t("tabs.closeCurrent")),1)])),_:1}),_(c,{onClick:n},{default:f((()=>[L(v(e.$t("tabs.closeOther")),1)])),_:1}),_(c,{onClick:s},{default:f((()=>[L(v(e.$t("tabs.closeAll")),1)])),_:1})])),_:1})])),default:f((()=>[_(r,{size:"small",type:"primary"},{default:f((()=>[d("span",null,v(e.$t("tabs.more")),1),_(u,{class:"el-icon--right"},{default:f((()=>[_(o)])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-665b1cee"]]);const Se={class:"tabs-box"},Ae={class:"tabs-menu"};var De=Z(t({__name:"index",setup(e){const a=K(),t=w((()=>a.tabsMenuList)),s=w({get:()=>a.tabsMenuValue,set:e=>{a.setTabsMenuValue(e)}}),o=g(),u=j();J((()=>o.path),(()=>{let e={title:o.meta.title,path:o.path,close:!0};a.addTabs(e)}),{immediate:!0});const r=e=>{let a=e.props.name;u.push(a)},b=e=>{a.removeTabs(e)};return(e,a)=>{const o=i("el-icon"),u=i("el-tab-pane"),g=i("el-tabs");return l(),n("div",Se,[d("div",Ae,[_(g,{modelValue:C(s),"onUpdate:modelValue":a[0]||(a[0]=e=>P(s)?s.value=e:null),type:"card",onTabClick:r,onTabRemove:b},{default:f((()=>[(l(!0),n(p,null,c(C(t),(e=>(l(),m(u,{key:e.path,path:e.path,label:e.title,name:e.path,closable:e.close},{label:f((()=>[e.icon?(l(),m(o,{key:0,class:"tabs-icon"},{default:f((()=>[(l(),m(h(e.icon)))])),_:2},1024)):F("",!0),L(" "+v(e.title),1)])),_:2},1032,["path","label","name","closable"])))),128))])),_:1},8,["modelValue"]),_(ze)])])}}}),[["__scopeId","data-v-38b85600"]]);const je={},Be={class:"footer flx-center"},Re=[(e=>(u("data-v-a8d8f074"),e=e(),r(),e))((()=>d("a",{href:"http://www.spicyboy.cn/",target:"_blank"}," 2022 © Joy-Admin By Joy Technology. ",-1)))];var Je=Z(je,[["render",function(e,a){return l(),n("div",Be,Re)}],["__scopeId","data-v-a8d8f074"]]);let Fe=[];const Pe=(e,a)=>{e.forEach((e=>{var t;(null==(t=e.meta)?void 0:t.keepAlive)&&e.name&&a.push(e.name),e.children&&0!==e.children.length&&Pe(e.children,a)}))};Pe(U,Fe);const Ue={class:"main-box"};var Ee=Z(t({__name:"index",setup(e){const a=k();return y((async()=>{const e=await Q();e.data&&a.setAuthButtons(e.data)})),(e,a)=>{const t=i("el-aside"),n=i("el-header"),s=i("router-view"),o=i("el-main"),u=i("el-footer"),r=i("el-container");return l(),m(r,null,{default:f((()=>[_(t,null,{default:f((()=>[_(ne)])),_:1}),_(r,null,{default:f((()=>[_(n,null,{default:f((()=>[_(Me),_(De)])),_:1}),_(o,null,{default:f((()=>[d("section",Ue,[_(s,null,{default:f((({Component:e,route:a})=>[_(E,{appear:"",name:"fade-transform",mode:"out-in"},{default:f((()=>[(l(),m(H,{include:C(Fe)},[(l(),m(h(e),{key:a.path}))],1032,["include"]))])),_:2},1024)])),_:1})])])),_:1}),_(u,null,{default:f((()=>[_(Je)])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-02929034"]]);export{Ee as default};
