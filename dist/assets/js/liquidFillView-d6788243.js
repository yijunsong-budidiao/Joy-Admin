import{bf as e,bg as t,bh as a,bi as i,bj as n,aT as r,bk as s,bl as l,bm as o,bn as h,bo as d,bp as u,bq as g,br as v,bs as c,b2 as p,b3 as m,b0 as f,b1 as y,aP as b,be as w,b8 as M,bc as x,a$ as I,t as P,B as S,A as L,H as C,N as D,Z as T,V as E,bt as F,v as Y,Y as A,J as k}from"./index-409fe34f.js";var _={isDimensionStacked:a,enableDataStack:i,getStackedDimension:n};function z(t,a){return e(t,null,null,"normal"!==(a=a||{}).state)}var O=Object.freeze(Object.defineProperty({__proto__:null,createList:function(e){return t(null,e)},getLayoutRect:d,dataStack:_,createScale:function(e,t){var a=t;t instanceof r||(a=new r(t));var i=s(a);return i.setExtent(e[0],e[1]),l(i,a),i},mixinAxisModelCommonMethods:function(e){o(e,h)},getECData:u,createTextStyle:z,createDimensions:g,createSymbol:v,enableHoverEmphasis:c},Symbol.toStringTag,{value:"Module"}));function B(e){var t=f.extend(e);return f.registerClass(t),t}function W(e){var t=y.extend(e);return y.registerClass(t),t}function j(e){var t=p.extend(e);return p.registerClass(t),t}function U(e){var t=m.extend(e);return m.registerClass(t),t}b([w,M]),b(x),j({type:"series.liquidFill",optionUpdated:function(){var e=this.option;e.gridSize=Math.max(Math.floor(e.gridSize),4)},getInitialData:function(e,t){var a=g(e.data,{coordDimensions:["value"]}),i=new I(a,this);return i.initData(e.data),i},defaultOption:{color:["#294D99","#156ACF","#1598ED","#45BDFF"],center:["50%","50%"],radius:"50%",amplitude:"8%",waveLength:"80%",phase:"auto",period:"auto",direction:"right",shape:"circle",waveAnimation:!0,animationEasing:"linear",animationEasingUpdate:"linear",animationDuration:2e3,animationDurationUpdate:1e3,outline:{show:!0,borderDistance:8,itemStyle:{color:"none",borderColor:"#294D99",borderWidth:8,shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.25)"}},backgroundStyle:{color:"#E3F7FF"},itemStyle:{opacity:.95,shadowBlur:50,shadowColor:"rgba(0, 0, 0, 0.4)"},label:{show:!0,color:"#294D99",insideColor:"#fff",fontSize:50,fontWeight:"bold",align:"center",baseline:"middle",position:"inside"},emphasis:{itemStyle:{opacity:.8}}}});var q=P({type:"ec-liquid-fill",shape:{waveLength:0,radius:0,radiusY:0,cx:0,cy:0,waterLevel:0,amplitude:0,phase:0,inverse:!1},buildPath:function(e,t){null==t.radiusY&&(t.radiusY=t.radius);for(var a=Math.max(2*Math.ceil(2*t.radius/t.waveLength*4),8);t.phase<2*-Math.PI;)t.phase+=2*Math.PI;for(;t.phase>0;)t.phase-=2*Math.PI;var i=t.phase/Math.PI/2*t.waveLength,n=t.cx-t.radius+i-2*t.radius;e.moveTo(n,t.waterLevel);for(var r=0,s=0;s<a;++s){var l=s%4,o=G(s*t.waveLength/4,l,t.waveLength,t.amplitude);e.bezierCurveTo(o[0][0]+n,-o[0][1]+t.waterLevel,o[1][0]+n,-o[1][1]+t.waterLevel,o[2][0]+n,-o[2][1]+t.waterLevel),s===a-1&&(r=o[2][0])}t.inverse?(e.lineTo(r+n,t.cy-t.radiusY),e.lineTo(n,t.cy-t.radiusY),e.lineTo(n,t.waterLevel)):(e.lineTo(r+n,t.cy+t.radiusY),e.lineTo(n,t.cy+t.radiusY),e.lineTo(n,t.waterLevel)),e.closePath()}});function G(e,t,a,i){return 0===t?[[e+.5*a/Math.PI/2,i/2],[e+.5*a/Math.PI,i],[e+a/4,i]]:1===t?[[e+.5*a/Math.PI/2*(Math.PI-2),i],[e+.5*a/Math.PI/2*(Math.PI-1),i/2],[e+a/4,0]]:2===t?[[e+.5*a/Math.PI/2,-i/2],[e+.5*a/Math.PI,-i],[e+a/4,-i]]:[[e+.5*a/Math.PI/2*(Math.PI-2),-i],[e+.5*a/Math.PI/2*(Math.PI-1),-i/2],[e+a/4,0]]}var N=F;function H(e){return e&&0===e.indexOf("path://")}U({type:"liquidFill",render:function(e,t,a){var i=this,n=this.group;n.removeAll();var r=e.getData(),s=r.getItemModel(0),l=s.get("center"),o=s.get("radius"),h=a.getWidth(),d=a.getHeight(),u=Math.min(h,d),g=0,p=0,m=e.get("outline.show");m&&(g=e.get("outline.borderDistance"),p=N(e.get("outline.itemStyle.borderWidth"),u));var f,y,b,w=N(l[0],h),M=N(l[1],d),x=!1,I=e.get("shape");("container"===I?(x=!0,y=[(f=[h/2,d/2])[0]-p/2,f[1]-p/2],b=[N(g,h),N(g,d)],o=[Math.max(y[0]-b[0],0),Math.max(y[1]-b[1],0)]):(y=(f=N(o,u)/2)-p/2,b=N(g,u),o=Math.max(y-b,0)),m)&&(j().style.lineWidth=p,n.add(j()));var P=x?0:w-o,F=x?0:M-o,_=null;n.add(function(){var t=W(o);t.setStyle(e.getModel("backgroundStyle").getItemStyle()),t.style.fill=null,t.z2=5;var a=W(o);a.setStyle(e.getModel("backgroundStyle").getItemStyle()),a.style.stroke=null;var i=new C;return i.add(t),i.add(a),i}());var O=this._data,B=[];function W(e,t){if(I){if(H(I)){var a=Y(I.slice(7),{}),i=a.getBoundingRect(),n=i.width,r=i.height;n>r?(r*=2*e/n,n=2*e):(n*=2*e/r,r=2*e);var s=t?0:w-n/2,l=t?0:M-r/2;return a=Y(I.slice(7),{},new A(s,l,n,r)),t&&(a.x=-n/2,a.y=-r/2),a}if(x){var o=t?-e[0]:w-e[0],h=t?-e[1]:M-e[1];return v("rect",o,h,2*e[0],2*e[1])}h=t?-e:M-e;return"pin"===I?h+=e:"arrow"===I&&(h-=e),v(I,o=t?-e:w-e,h,2*e,2*e)}return new k({shape:{cx:t?0:w,cy:t?0:M,r:e}})}function j(){var t=W(f);return t.style.fill=null,t.setStyle(e.getModel("outline.itemStyle").getItemStyle()),t}function U(t,a,i){var n=x?o[0]:o,s=x?d/2:o,l=r.getItemModel(t),h=l.getModel("itemStyle"),u=l.get("phase"),g=N(l.get("amplitude"),2*s),v=N(l.get("waveLength"),2*n),p=s-r.get("value",t)*s*2;u=i?i.shape.phase:"auto"===u?t*Math.PI/4:u;var m=h.getItemStyle();if(!m.fill){var f=e.get("color"),y=t%f.length;m.fill=f[y]}var b=new q({shape:{waveLength:v,radius:n,radiusY:s,cx:2*n,cy:0,waterLevel:p,amplitude:g,phase:u,inverse:a},style:m,x:w,y:M});b.shape._waterLevel=p;var I=l.getModel("emphasis.itemStyle").getItemStyle();I.lineWidth=0,b.ensureState("emphasis").style=I,c(b);var P=W(o,!0);return P.setStyle({fill:"white"}),b.setClipPath(P),b}function G(e,t,a){var i=r.getItemModel(e),n=i.get("period"),s=i.get("direction"),l=r.get("value",e),o=i.get("phase");o=a?a.shape.phase:"auto"===o?e*Math.PI/4:o;var h,d,u=0;"auto"===n?(h=5e3,u=0===(d=r.count())?h:h*(.2+(d-e)/d*.8)):u="function"==typeof n?n(l,e):n;var g=0;"right"===s||null==s?g=Math.PI:"left"===s?g=-Math.PI:"none"===s&&(g=0),"none"!==s&&i.get("waveAnimation")&&t.animate("shape",!0).when(0,{phase:o}).when(u/2,{phase:g+o}).when(u,{phase:2*g+o}).during((function(){_&&_.dirty(!0)})).start()}r.diff(O).add((function(t){var a=U(t,!1),i=a.shape.waterLevel;a.shape.waterLevel=x?d/2:o,S(a,{shape:{waterLevel:i}},e),a.z2=2,G(t,a,null),n.add(a),r.setItemGraphicEl(t,a),B.push(a)})).update((function(t,a){for(var s=O.getItemGraphicEl(a),l=U(t,!1,s),o={},h=["amplitude","cx","cy","phase","radius","radiusY","waterLevel","waveLength"],u=0;u<h.length;++u){var g=h[u];l.shape.hasOwnProperty(g)&&(o[g]=l.shape[g])}var v={},c=["fill","opacity","shadowBlur","shadowColor"];for(u=0;u<c.length;++u){g=c[u];l.style.hasOwnProperty(g)&&(v[g]=l.style[g])}x&&(o.radiusY=d/2),L(s,{shape:o,x:l.x,y:l.y},e),e.isUniversalTransitionEnabled&&e.isUniversalTransitionEnabled()?L(s,{style:v},e):s.useStyle(v);var p=s.getClipPath(),m=l.getClipPath();s.setClipPath(l.getClipPath()),s.shape.inverse=l.inverse,p&&m&&i._shape===I&&!H(I)&&L(m,{shape:p.shape},e,{isFrom:!0}),G(t,s,s),n.add(s),r.setItemGraphicEl(t,s),B.push(s)})).remove((function(e){var t=O.getItemGraphicEl(e);n.remove(t)})).execute(),s.get("label.show")&&n.add(function(t){var a=s.getModel("label");function i(){var t=e.getFormattedLabel(0,"normal"),a=100*r.get("value",0),i=r.getName(0)||e.name;return isNaN(a)||(i=a.toFixed(0)+"%"),null==t?i:t}var n={z2:10,shape:{x:P,y:F,width:2*(x?o[0]:o),height:2*(x?o[1]:o)},style:{fill:"transparent"},textConfig:{position:a.get("position")||"inside"},silent:!0},l={style:{text:i(),textAlign:a.get("align"),textVerticalAlign:a.get("baseline")}};Object.assign(l.style,z(a));var h=new D(n),d=new D(n);d.disableLabelAnimation=!0,h.disableLabelAnimation=!0;var u=new T(l),g=new T(l);h.setTextContent(u),d.setTextContent(g);var v=a.get("insideColor");g.style.fill=v;var c=new C;c.add(h),c.add(d);var p=W(o,!0);return(_=new E({shape:{paths:t},x:w,y:M})).setClipPath(p),d.setClipPath(_),c}(B)),this._shape=I,this._data=r},dispose:function(){}});export{W as a,j as b,U as c,B as e,O as h};
